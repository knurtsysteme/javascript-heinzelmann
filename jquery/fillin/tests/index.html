<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script src="jquery-latest.js"></script>
<link rel="stylesheet" href="qunit.css" type="text/css" media="screen" />
<script type="text/javascript" src="qunit.js"></script>
<script type="text/javascript" src="../src/jquery.fillin.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    test("toObject", function() {
      ok($('#test-area'), 'have test-area');
      var testObject = {
        a : 'va',
        b : 'vb',
        c : 'vc',
        d : 'vd',
        e : 'on',
        f : 'vf2',
        g : 'vg',
        h : 'vh2',
        i : ['vi2', 'vi3'],
        j : false,
        k : '',
        l : null,
        m : {'1' : 'vm2', 2 : null, '3' : 'vm4'},
        n : 1,
        o : 0,
        p : -1,
        q : ['message', 'wrong datatypes interpreted as false']
      };
      var result = $("#test-area").fillIn(testObject);
      ok($('input[name=a]').val() == 'va', 'text');
      ok($('input[name=b]').val() == 'vb', 'email');
      ok($('input[name=c]').val() == 'vc', 'hidden');
      ok($('input[name=d]').val() == 'vd', 'password');
      ok($('input[name=e]').is(':checked'), 'checkbox checked');
      ok($('input[name=f][value=vf2]').is(':checked'), 'radio checked');
      ok($('textarea[name=g]').val() == 'vg', 'textarea');
      ok($('select[name=h]').val() == 'vh2', 'select one');
      ok($('select[name=i]').val().length == 2, 'select many 2 selected');
      ok($('select[name=i]').val()[0] == 'vi2', 'select many 1st selection');
      ok($('select[name=i]').val()[1] == 'vi3', 'select many 2nd selection');
      ok(!$('input[name=j]').is(':checked'), 'checkbox not checked on false');
      ok(!$('input[name=k]').is(':checked'), 'checkbox not checked on empty string');
      ok(!$('input[name=l]').is(':checked'), 'checkbox not checked on null');
      ok($('select[name=m]').val().length == 2, 'select many 2 selected');
      ok($('select[name=m]').val()[0] == 'vm2', 'select many 1st selection');
      ok($('select[name=m]').val()[1] == 'vm4', 'select many 2nd selection');
      ok($('input[name=n]').is(':checked'), 'checkbox checked on 1');
      ok(!$('input[name=o]').is(':checked'), 'checkbox not checked on 0');
      ok(!$('input[name=p]').is(':checked'), 'checkbox not checked on -1');
      ok(!$('input[name=q]').is(':checked'), 'checkbox not checked on wrong data types');
      ok(result == 17, 'get count of elements found ' + result);
    });
  });
</script>
</head>
<body>
  <h1 id="qunit-header">Test jquery.serializeObject.js</h1>
  <h2 id="qunit-banner"></h2>
  <h2 id="qunit-userAgent"></h2>
  <ol id="qunit-tests"></ol>
  <div id="qunit-fixture">test markup, will be hidden</div>
  <div id="test-area">
    <p>
      <input type="text" name="a" />
    </p>
    <p>
      <input type="email" name="b" />
    </p>
    <p>
      <input type="hidden" name="c" />
    </p>
    <p>
      <input type="password" name="d" />
    </p>
    <p>
      <input type="checkbox" name="e" />
    </p>
    <p>
      <input type="radio" name="f" value="vf1" />
      <input type="radio" name="f" value="vf2" />
      <input type="radio" name="f" value="vf3" />
    </p>
    <p>
      <textarea name="g" cols="5" rows="5"></textarea>
    </p>
    <p>
      <select name="h" size="1">
        <option value="vh1">vh1</option>
        <option value="vh2">vh2</option>
        <option value="vh3">vh3</option>
      </select>
    </p>
    <p>
      <select name="i" size="3" multiple="multiple">
        <option value="vi1">vi1</option>
        <option value="vi2">vi2</option>
        <option value="vi3">vi3</option>
      </select>
    </p>
    <p>
      <input type="checkbox" name="j" checked="checked" />
    </p>
    <p>
      <input type="checkbox" name="k" checked="checked" />
    </p>
    <p>
      <input type="checkbox" name="l" checked="checked" />
    </p>
    <p>
      <select name="m" size="3" multiple="multiple">
        <option value="vm1">vm1</option>
        <option value="vm2">vm2</option>
        <option value="vm3">vm3</option>
        <option value="vm4">vm4</option>
      </select>
    </p>
    <p>
      <input type="checkbox" name="n" />
    </p>
    <p>
      <input type="checkbox" name="o" checked="checked" />
    </p>
    <p>
      <input type="checkbox" name="p" checked="checked" />
    </p>
    <p>
      <input type="checkbox" name="q" checked="checked" />
    </p>
  </div>
</body>
</html>

